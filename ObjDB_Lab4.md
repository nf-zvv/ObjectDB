# Лабораторная работа №4

## Задание

Реализовать методы: 

1. Поиск записей по первичному ключу (в случае отсутствия дубликатов первичных ключей)
2. Обновление найденной по первичному ключу записи

## Примеры

См. [Retrieving Multiple Objects](https://docs.oracle.com/cd/E17076_03/html/gsg/JAVA/getmultiple.html)

## Пояснения

Для выполнения поиска необходимо перебрать все записи и найти ту, которая соответствует условию поиска.

1. Открыть окружение и хранилище - см. пример `setup()`.
2. Создать экземпляр класса доступа к данным - см. пример `SimpleDA`.
3. Получить объект первичного ключа (?) 
4. Настроить курсор
5. В цикле путем перебора объектов БД при помощи курсора найти объект, первичный индекс которого совпадает с искомым.
5. Закрыть окружение и хранилище.

Использование курсоров.

```java
    // 1) Открыть окружение и хранилище
    setup();

    // 2) Создать экземпляр класса доступа к данным (DA, Data accessor)
    orgDA = new organizationDA(store);
    
    // 3) 
    EntityIndex<Integer,organization> pIndex = orgDA.pIdx;
    
    // 4) 
    EntityCursor<organization> org_cursor = pIndex.entities();
    
    // 5) 
    try {
        for (organization entity : org_cursor) {
            // сделать что-нибудь с каждым объектом entity
            // либо
            // вызвать метод getId() экземпляра класса organization
            id = org_cursor.current().getId();
            // либо
            // можно внести изменение (под текущим id вставить другой объект)
            // где record - объект класса organization
            org_cursor.update(record);
        }
    } finally {
        // Всегда надо закрывать курсор
        org_cursor.close();
    } 
    
    // 6) Закрыть окружение и хранилище
	shutdown();

```
